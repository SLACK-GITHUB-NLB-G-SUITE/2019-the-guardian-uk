Theresa May’s room for manoeuvre should her Brexit deal be rejected next week was further constrained on Wednesday night, after the government lost a second dramatic parliamentary showdown in as many days. An increasingly boxed-in prime minister must now set out her plan B within three working days of a defeat next Tuesday, after a rebel amendment passed on Wednesday. There were furious scenes in the House of Commons, as the Speaker, John Bercow, took the controversial decision to allow a vote on the amendment, tabled by former attorney general Dominic Grieve. A string of MPs, including the leader of the house of Commons Andrea Leadsom, repeatedly intervened to question the Speaker’s approach, with some accusing him of being biased against Brexit. But parliament went on to back Grieve, as Conservative rebels determined to hand control of the Brexit process to MPs if next week’s vote is lost, defied the prime minister. The fresh defeat, which followed a separate backbench amendment to the finance bill on Tuesday, means the government will have to return to parliament swiftly with a plan. An accelerated timetable will also pile the pressure on Labour to move quickly. The motion setting out the government’s plan can be amended by MPs hoping to push their own alternative proposals, from a second referendum to a harder Brexit. Corbyn’s party will have to decide which to back. Keir Starmer, the shadow Brexit secretary, on Wednesday became the most senior Labour figure to suggest that the article 50 process might have to be extended, if the deadlock in parliament cannot be broken. He told MPs: “There is a question of the extension of article 50, which may well be inevitable now, given the position that we are in, but of course we can only seek it, because the other 27 [EU member-states] have to agree.” The mooted extension to the transition period is a new idea being put forward by the EU to help Theresa May square the circle created by the written agreement last December and the draft withdrawal agreement in March. That committed the UK and the EU to ensuring there was no divergence between Northern Ireland and the Republic of Ireland. But it also, after an intervention by the Democratic Unionist party, committed the UK (not the EU) not to have any trading differences between Northern Ireland and Great Britain. The problem is that these are two irreconcilable agreements. They also impinge on the legally binding Good Friday agreement, which brought peace to Northern Ireland and in some senses pooled sovereignty of Northern Ireland giving people a birthright to be Irish or British or both. If the UK leaves the EU along with the customs union and the single market then the border in Ireland becomes the only land border between the UK and the EU forcing customs, tax and regulatory controls. The backstop is one of three options agreed by the EU and the UK in December and would only come into play if option A (overall agreement) or option B (a tailor-made solution) cannot be agreed by the end of transition. The Irish have likened it to an insurance policy. The new EU idea is to extend the transition period to allow time to get to option A or B. But an extension is problematic for Brexiters and leave voters, who want the UK to get out of the EU as soon as possible. The Irish and the EU will also still need the backstop in the withdrawal agreement, which must be signed before the business of the trade deal can get under way. Otherwise it is  a no-deal Brexit. Extending the transition into 2021 would mean another year of paying into the EU budget. Britain would have to negotiate this but it has been estimated at anywhere between £10bn and £17bn. Staying in the EU for another year would also mean continued freedom of movement and being under the European court of justice, which Brexiters would oppose. Starmer also said: “We are going to have to look at what available options are realistically still on the table and what now are the merits of each of them.” The government announced details of new concessions on the Brexit deal on Wednesday, in a bid to win over sceptics. Brexit secretary Steve Barclay announced the government would accept a proposal from Tory MP Hugo Swire that will allow MPs to vote, before the Irish backstop is implemented, if a trade deal has not been reached by mid-2020. Theresa May’s spokesman said the plan would give MPs the options of implementing the backstop, extending the transition period, or “alternative ways you could look at, including technology”. But the idea that it would strengthen MPs’ powers to prevent the backstop coming into force was swiftly dismissed in Brussels. An EU diplomat said: “This is a purely internal arrangement in the UK. What counts is the treaty and the legally binding commitments in the treaty and why would the UK not want to honour its international obligations?” Asked whether the EU would have to concur with whatever decision was reached, the spokesman said not: “My understanding on that is that it’s a decision for the UK parliament as to which route we choose to go down.” However, one senior Brexiter concurred with the view in Brussels, that the withdrawal treaty, once ratified, would trump any vote in Westminster: “That’s the point of international treaties!” he said. More details were also announced of the so-called “Stormont Lock”, giving the Northern Ireland Assembly a “strong role” in regulatory arrangements, if the backstop comes into force. But with the assembly currently suspended, a paper published by the government setting out the plans was quickly rubbished by the Democratic Unionist party (DUP). Winning over the DUP was at the heart of No 10’s strategy for smoothing the path to her deal being passed by parliament. But there has been little sign since the new year that their resolve to reject the deal has weakened. Nigel Dodds, the DUP’s leader at Westminster, described the latest proposals as “cosmetic and meaningless”. Earlier, Bercow had clashed repeatedly with MPs over his decision to fly in the face of parliamentary convention and allow the Grieve motion to be voted on. “The chair is simply seeking to discharge the responsibility of the holder of the office to the best of his ability,” he insisted, speaking about himself in the third person. “That is what I have always done, and no matter what people say or how forcefully they say it, or how many times they say it or by what manner of co-ordination it is said, I will continue to do what I believe to be right.” But veteran Brexiter Peter Bone was one of those Tories expressing concern, and warned that the decision plunged parliament into “pretty choppy and dangerous waters at the time in our nation’s affairs when, frankly, we can least afford it”. Another MP challenged the Speaker about a sticker on his car that “makes derogatory comments about Brexit” – with Bercow shooting back that the car belonged to his wife. Rebel backbenchers believe the decision to allow the vote strengthens their hand in what they expect to be a series of battles in the days ahead, as they seek to prevent the government leading Britain out of the EU without a deal. Downing Street sought to play down the significance of the amendment. A spokesman said: “Our intention has always been to respond quickly and provide certainty on the way forward in the event that we lose the meaningful vote.”