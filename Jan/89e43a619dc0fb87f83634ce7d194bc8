Democrats reclaimed power in the House on Thursday and officially elected Nancy Pelosi to be the next speaker, returning her to a position for which she made history as the first woman elected to the office. The California Democrat earned 220 votes from a total of 430 members present, while Kevin McCarthy, the Republican leader, won 192. Pelosi overcame an internal Democratic rebellion from members calling for generational change at the top, among other hurdles, to win the gavel but on Thursday the opposition was nominal. In total, she suffered 15 Democratic defections, mostly from new members who pledged to oppose her during their campaigns and from old foes who have long called for new leadership. When the tally was announced, Democrats erupted in applause. Several members embraced Pelosi as her grandchildren, who were seated on the chamber floor, bounced up and down with excitement. In reclaiming the gavel, Pelosi, who had previously served as speaker from 2007-2011, became the first former speaker to win re-election since Sam Rayburn in 1955. She then swore into office the 116th Congress, which includes a record 102 women. The incoming freshman class is the youngest and most racially diverse in history, with a number of outspoken members prepared to take on Donald Trump. “Our nation is at a historic moment,” Pelosi said in her remarks on the House floor. “Two months ago, the American people spoke and demanded a new dawn.” Among the special guests watching from the audience were singer Tony Bennett, Mickey Hart, drummer of the Grateful Dead and fashion consultant Tim Gunn. Pelosi’s supporters wore pins that said “Madame Speaker”. To secure her ascent, Pelosi defused an attempt to block her nomination with a series of concessions to opponents, including pledging to support term limits for serving as speaker. In doing so, she won over key dissenters such as Seth Moulton of Massachusetts and Tim Ryan of Ohio, who challenged her in 2016. Others took a different tack. Andy Kim, a newly elected Democrat from New Jersey who said he would not support Pelosi on the campaign trail but flipped on Thursday, told reporters: “I’m approaching every vote on what I think is going to be best for people of Burlington and Ocean county. So when I approach the vote, I think about what I can get for that vote for my people either way.” The opposition to Pelosi manifested itself in different ways. Three Democrats voted present (including the newly elected Jeff Van Drew of New Jersey, who first attempted to vote “no”, which was not an option). Others backed a variety of candidates. There were three votes for the incoming Democratic Congressional Campaign Committee (DCCC) chair, Cheri Bustos of Illinois, two for Senator Tammy Duckworth of Illinois and other votes cast for politicians such as the former vice-president Joe Biden and Stacey Abrams, the losing Democratic gubernatorial candidate in Georgia. But for the most part, she received enthusiastic endorsements from the Democrats. Several congresswomen dedicated their vote for Pelosi to the young women who will come after them. Congresswoman Lucy McBath said she would vote for Pelosi in honor of her son Jordan, who was fatally shot in Florida. A new member from Texas, Veronica Escobar, enthusiastically voted for “Nancy ‘No Wall’ Pelosi” while others cheered for “NDP” – the initials for Nancy D’Alesandro Pelosi. One Democratic aide hailed Pelosi as a “mastermind” for her comfortable win and said: “All of us are amazed by how easy today’s vote will be for her.” The aide noted, however, that unlike Pelosi’s first stint as speaker, “managing this caucus will be more difficult than back in 2007”. In their first act after officially taking control of the House of Representatives on Thursday, Democrats intend to test their power in a newly divided Washington by passing legislation to end a partial government shutdown that is entering its 13th day. Though the vote on the proposed funding legislation is unlikely to break the impasse over the shutdown – Trump formally pledged to veto it in an official White House statement Thursday – it sets the tone for what is expected to be a tumultuous final two years of the president’s first term. The 2019-20 Congress begins work on Thursday with roughly a quarter of the federal government closed, affecting 800,000 employees, in a shutdown triggered by Trump’s demand last month for the money for a wall along the US-Mexican border – opposed by Democrats – as part of any legislation to fund government agencies. Trump started Thursday by blaming Democrats for the impasse, calling their opposition to a wall “strictly politics”. He wrote on Twitter: “The Shutdown is only because of the 2020 Presidential Election. The Democrats know they can’t win based on all of the achievements of ‘Trump,’ so they are going all out on the desperately needed Wall and Border Security – and Presidential Harassment. For them, strictly politics!” Trump had previously said he would be “proud” to shut down the government to secure funding to build a physical barrier along America’s southern border. During a contentious meeting with top congressional leaders in the White House Situation Room on Wednesday, Trump said the shutdown could last “a long time” and promised to reject any offer that did not include billions in taxpayer dollars for a wall, despite the fact that he has repeatedly stated Mexico would be forced to pay for it. Pelosi’s spending package would fund most of the federal government through the end of September and the Department of Homeland Security until 8 February. The bill would allocate $1.3bn for border security measures, such as increased surveillance and fencing, but would deny Trump’s demand for $5.6bn to build 200 miles of fencing along the 2,000-mile border with Mexico. At a press conference on Thursday, Pelosi implored Trump to take “yes for an answer”, noting that the bills had previously drawn overwhelming support from Senate Republicans. However, she insisted “we’re not doing a wall” and described Trump’s signature proposal as “an immorality”. If the House sends the bills to the Senate, which remains under Republican control, it will need 60 votes to advance. Last month, the Senate easily passed legislation that would have funded the government through 8 February without money for Trump’s border wall. However the Senate majority leader, Mitch McConnell, has pledged not to put the legislation on the floor, describing it as “political theater not productive policymaking”. The Associated Press contributed to this report