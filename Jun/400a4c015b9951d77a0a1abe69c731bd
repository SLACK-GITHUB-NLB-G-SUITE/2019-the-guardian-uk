The Republican-controlled US Senate has voted to block the Trump administration from selling arms to Saudi Arabia, launching a new challenge to Donald Trump’s alliance with the country amid rising tensions in the Middle East. Trump had already promised to veto the measures. The White House said stopping the sales “would send a message that the United States is abandoning its partners and allies at the very moment when threats to them are increasing”. While all the resolutions of disapproval voted on in the Senate on Thursday will probably pass the Democratic-controlled House, supporters fell well short of a veto-proof margin. Two of the resolutions passed with 53 votes, while another group was approved narrowly, with 51 votes. Overturning a presidential veto requires a two-thirds majority in both the House and Senate. Seven Republicans broke with Trump to reject at least some of the arms sales. Susan Collins of Maine, Lindsey Graham of South Carolina, Mike Lee of Utah, Jerry Moran of Kansas, Lisa Murkowski of Alaska, Rand Paul of Kentucky and Todd Young of Indiana all supported at least some of the votes to block weapons sales to Saudi Arabia. The votes came against the backdrop of heightened US tensions with Iran, further stoked after Iran, regarded as an enemy by Saudi Arabia, shot down a US drone in the region in the early hours of Thursday, a move Trump declared “a very big mistake”. Congressional leaders received a closed-door briefing on the situation at the Capitol and were invited to the White House in the afternoon to meet with Trump. The secretary of state, Mike Pompeo, cited threats from Iran when declaring an emergency in May to justify a major weapons sale. The Saudis have recently faced a number of attacks from Iran-backed Houthi rebels in Yemen. “To reject these sales at this time and under these circumstances is to reward recent Iranian aggression and to encourage further Iranian escalation,” said the Idaho senator Jim Risch, the chairman of the Senate foreign relations committee. Risch added that blocking the sale would also “encourage miscalculation on the part of Iranians which will be disastrous”. The latest arms sales, worth an estimated $8bn, included precision guided munitions, other bombs and ammunition and aircraft maintenance support. Opposition in Congress to close US Saudi ties escalated after the killing of US-based columnist Jamal Khashoggi, regarded as a dissident by Saudi leadership, in the Saudi consulate in Istanbul, by agents of the Saudi kingdom last year. But a small group of lawmakers has been voicing concern about the Saudi-led coalition’s war in Yemen for years. New Jersey senator Bob Menendez, the top Democrat on the Senate foreign relations committee, said the war in Yemen was one reason for his opposition to the arms sales. “These are bombs that we know have killed thousands of civilians in Yemen, patients in hospitals, children on school buses,” Menendez said. The conflict in Yemen has killed thousands of civilians and left millions more are on the brink of starvation. Menendez called the humanitarian situation “an incomprehensible moral tragedy”. Graham, a Republican of South Carolina and, of late, a staunch Trump ally, nevertheless delivered an impassioned speech from the Senate floor criticizing Saudi Arabia’s behavior as personally “disrespectful”. “My relationship with Saudi Arabia is forever changed,” he said, accusing the kingdom of taking their relationship with the US “for granted” and caring more about “maintaining power at all costs” than their alliance. British arms sales to Saudi Arabia were declared unlawful earlier this year by a House of Lords committee.