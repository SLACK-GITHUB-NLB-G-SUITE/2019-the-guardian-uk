Democrats shunned a White House veto threat and muscled legislation through the House on Tuesday that would bestow a chance for citizenship on an estimated 2 million-plus migrants, a bill that stands virtually no chance of enactment but lets them showcase their efforts on one of their highest-profile priorities. The measure is just one skirmish in Democrats’ multi-front battle against most congressional Republicans over immigration, an issue that has deadlocked the two parties for decades but intensified under the harsh policies and rhetoric of Donald Trump. It is likely to join a host of other House-passed measures advancing Democrats’ agenda that are running aground in the GOP-run Senate, including legislation on healthcare, gun control, climate change and election security. The bill passed on a near party-line 237-187 vote as supporters in the House visitors’ galleries roared “Yes we can” and other chants, a rare display of raucous emotion in a chamber whose rules require decorum by its guests. Seven Republicans from mostly moderate districts were the only lawmakers to cross party lines. As if to underscore the relentlessness and sweep of the immigration fight, the Democratic-led House appropriations committee took its own swipe at Trump by unveiling a separate bill that provides no additional money next year for building the president’s long-sought barriers along the south-west border. That measure also claws back a portion of the billions of dollars Trump has unilaterally diverted toward constructing portions of his wall. The House-passed bill would protect from deportation and provide a pathway toward citizenship for young migrants brought to the US illegally as children. Many would be “Dreamers” currently safeguarded by the Obama-era Deferred Action for Childhood Arrivals program, or Daca, which only the federal courts have thwarted Trump from dismantling. It would also shield others here temporarily because their home countries, chiefly in Central America, Africa and the Middle East, have been ravaged by wars or natural disasters. The nonpartisan Congressional Budget Office estimated that more than 2 million people already in the US would get legal status under the House bill. The analysts also said the measure would cost more than $30bn over the next decade, largely because many migrants attaining legal status would qualify for federal benefits like Medicaid. Democrats said that besides humanitarian considerations, helping the migrants stay in the US would benefit the economy and the many industries that employ them as workers. Among the bill’s supporters are the US Chamber of Commerce, the AFL-CIO labor organization, immigration groups and liberal groups. Though the bill contained provisions thwarting many gang members from winning legal status, Republicans unsuccessfully tried adding tougher language. Just 10 Democrats voted for the additions, nine from districts Trump carried in 2016. Republicans seemed certain to use the vote in next year’s campaigns to try characterizing Democrats who opposed the amendment as soft on crime. The debate occurred as the number of migrants arriving at the border with Mexico has swelled, straining the government’s ability to process and detain them. Since 1 December, more than 200,000 migrant families have been released into the country, with a huge backlog meaning they will probably be in the US for years until immigration courts decide their fate. Trump has requested $4.5bn to address that influx, but Congress has yet to approve it. Trump has also said he will impose a 5% tariff on all Mexican goods starting next week if that country doesn’t stem the flow of migrants and drugs into the US. The assessment would grow gradually to 25% without a resolution. Under the House bill, “Dreamers” and immigrants brought to this country illegally when they were young could qualify for a decade of conditional legal status if they have been here continually for at least four years. They would have to meet education and background check requirements and must not have committed felonies or certain misdemeanors, including domestic violence. They would qualify for full, permanent legal residence if they have attained post-secondary degrees, served in the military or worked for at least three years. After another five years, they could apply for citizenship. Also qualifying for legal residence, and possible citizenship, would be people in the US with Temporary Protected Status, another program that temporarily protects roughly 300,000 people from 10 war-torn or disaster-racked nations. The administration has tried ending the program for people from several of those countries, including Sudan, Nicaragua, Haiti and El Salvador, but has been hindered by lawsuits. Several thousand Liberians fleeing violence and the Ebola virus who have won temporary legal status in the US would also be given a chance for permanent residence and citizenship. Trump decided last year to end that program, called Deferred Enforced Departure, but in March extended it for another year so the program could be phased out. 