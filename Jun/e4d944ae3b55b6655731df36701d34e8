The US House of Representatives has passed a $4.5bn emergency border aid package to care for thousands of migrant families and unaccompanied children detained after crossing the US-Mexico border. The bill passed on Tuesday along party lines, after the House speaker, Nancy Pelosi, quelled a mini-revolt by progressives and Hispanic lawmakers who sought significant changes to the legislation. New provisions added to the bill were more modest than what those lawmakers had sought, but the urgent need for the funding, to prevent the humanitarian emergency on the border from turning into a debacle, appeared to outweigh any lingering concerns. The vote sets up a showdown with the Republican-led Senate, which may try instead to force Democrats to send Trump a different, and broadly bipartisan, companion measure in coming days as the chambers race to wrap up the must-do legislation by the end of the week. “The Senate has a good bill. Our bill is much better,” Pelosi told her Democratic colleagues in a meeting Tuesday morning, according to a senior Democratic aide who spoke on condition of anonymity to describe the private session. “We are ensuring that children have food, clothing, sanitary items, shelter and medical care. We are providing access to legal assistance. And we are protecting families because families belong together,” Pelosi said in a subsequent floor speech. Lawmakers’ sense of urgency to provide humanitarian aid was amplified by recent reports of gruesome conditions in a windowless border patrol station in Clint, Texas, where more than 300 infants and children were being housed. Many were kept there for weeks and were caring for each other in conditions that included inadequate food, water and sanitation. By Tuesday, most had been sent elsewhere. The incident was an extreme example of the dire conditions reported at numerous locations where detainees have been held, and several children have died in US custody. The US border patrol reported apprehending nearly 133,000 people last month – including many Central American families – as monthly totals have begun topping 100,000 for the first time since 2007. Federal agencies involved in immigration have reported being overwhelmed, depleting their budgets and housing large numbers of detainees in structures meant for handfuls of people. The bill contains more than $1bn to shelter and feed migrants detained by the border patrol and almost $3bn to care for unaccompanied migrant children who are turned over the Department of Health and Human Services. It seeks to mandate improved standards of care at “influx shelters” that house children waiting to be placed with sponsors such as family members in the US. Both the House and Senate bills ensure funding could not be shifted to Trump’s border wall and would block information on sponsors of immigrant children from being used to deport them. Trump would be denied additional funding for Immigration and Customs Enforcement detention beds. “The President’s cruel immigration policies that tear apart families and terrorize communities demand the stringent safeguards in this bill to ensure these funds are used for humanitarian needs only – not for immigration raids, not detention beds, not a border wall,” said the House appropriations committee chairwoman, Nita Lowey. The White House has threatened to veto the House bill, saying it would hamstring the administration’s border security efforts. Many children detained entering the US from Mexico have been held under harsh conditions, and the Customs and Border Protection chief operating officer, John Sanders, told the Associated Press last week that children have died after being in the agency’s care. Sanders announced Tuesday that would be stepping down next month amid outrage over his agency’s treatment of detained migrant children. Congress plans to leave Washington in a few days for a week-long Fourth of July recess, and pressure is intense to wrap up the legislation before then. Agencies are about to run out of money and failure to act could bring a swift political rebuke and accusations of ignoring the plight of innocent immigrant children. Tom Cole, a Republican congressman from Oklahoma, said Democrats were simply “pushing partisan bills to score political points and avoiding doing the hard work of actually making law”, warning them that “passing a partisan bill through this chamber won’t solve the problem”. 