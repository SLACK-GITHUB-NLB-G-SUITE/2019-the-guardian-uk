The United Nations has narrowly approved a resolution mandating a “comprehensive” international review of the drug war in the Philippines, which watchdogs say has claimed more than 20,000 lives. The UN human rights council resolution had faced strong pushback from President Rodrigo Duterte’s government, which counters that the toll has been exaggerated – its estimates say 5,300 have died – and that the crackdown enjoys widespread popular support. Duterte’s three-year war on drugs has unleashed a surge of bloodshed, with reports of nightly killings of suspects by police and masked gunmen. Activists said they had initially hoped the UN would demand a formal “inquiry” but compromised on calling for a “report” to win a majority. The text, proposed by Iceland, was backed by 18 states in the 47-member council, with 14 nations voting against and 15 abstentions. It gives Michelle Bachelet, the UN high commissioner for human rights, a year to prepare a “comprehensive written report on the situation of human rights in the Philippines”. Bachelet’s spokeswoman, Ravina Shamdasani, said the report would offer an opportunity to “get clarity around the contested facts, figures and circumstances” of the drug war. The government in Manila dismissed the vote. “The Philippines rejects this resolution,” said the foreign secretary Teodoro Locsin. “We will not accept a politically partisan and one-sided resolution, so detached from the truth on the ground,” he added, warning “there will be consequences”. Speaking shortly before the resolution was approved, Duterte called the text “crazy” but said he would consider allowing UN rights staff into the country. “Let them state their purpose and I will review it,” he said. When the then UN rights commissioner, Zeid Ra’ad Al Hussein, raised concern about the drug war in 2016, Duterte called him an “idiot” and a “son of a bitch”. Leila Matar, of Human Rights Watch, described the resolution as “a modest but vital” step that “signals the start of accountability for thousands of ‘drug war’-related killings”. Amnesty International hailed Thursday’s vote as “crucial”. “[It] provides hope for thousands of bereaved families in the Philippines, and countless more Filipinos bravely challenging the Duterte administration’s murderous ‘war on drugs’,” said Amnesty’s regional director for east and south-east Asia, Nicholas Bequelin. In addition to calling for a report by Bachelet, the resolution raises concerns over other alleged abuses under Duterte, including “killings, enforced disappearances, arbitrary arrest and detention”. The drug war, launched in 2016, is Duterte’s signature initiative, and he has often reacted with fury when outsiders have raised concerns about it. 