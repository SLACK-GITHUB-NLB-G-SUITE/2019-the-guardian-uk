Microsoft has won the Pentagon’s $10bn (£7.8bn) cloud computing contract, beating Amazon, which was seen as the favourite to build the system. The joint enterprise defence infrastructure cloud (Jedi) contract is part of a broader digital modernisation of the Pentagon meant to make it more technologically agile. But the contracting process had long been mired in conflict of interest allegations, even drawing the attention of the US president, Donald Trump, who has publicly taken swipes at Amazon and its founder, Jeff Bezos. Oracle Corp had expressed concerns about the award process for the contract, including the role of a former Amazon employee who worked on the project at the defence department but recused himself, then later left the defence department and returned to Amazon Web Services. Some companies were also concerned that a single award would give the winner an unfair advantage in follow-on work. The Pentagon has said it planned to award future cloud deals to multiple contractors. This week, the US defence secretary, Mark Esper, removed himself from reviewing the deal because of his adult son’s employment with one of the original contract applicants, IBM Corp. IBM had previously bid for the contract but had already been eliminated from the competition. In a statement announcing Microsoft as the winner, the Pentagon underscored its view that the competition was conducted fairly and legally. “All [offers] were treated fairly and evaluated consistently with the solicitation’s stated evaluation criteria. Prior to the award, the department conferred with the DOD [Department of Defence] inspector general, which informed the decision to proceed,” it said. In a statement, an Amazon Web Services spokesman said the company was “surprised about this conclusion”. The company said “detailed assessment purely on the comparative offerings” would “clearly lead to a different conclusion”, according to the statement. Microsoft shares were up 2.5% to $144.35 in after-hours trading after the news. Amazon shares were down 0.98% to $1,744.12. The Pentagon said it had awarded more than $11bn across 10 separate cloud contracts over the past two years. “As we continue to execute the DOD cloud strategy, additional contracts are planned for both cloud services and complementary migration and integration solutions necessary to achieve effective cloud adoption,” the Pentagon said.