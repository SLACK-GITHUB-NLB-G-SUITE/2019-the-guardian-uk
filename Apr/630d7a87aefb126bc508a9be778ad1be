More than 20 years ago, I hid in a Khartoum University toilet stall with three other students. We held our scarves over our noses to limit the stench, as well as the teargas that was streaming through the doors. A student union election had not gone the way the government liked, and soon the campus was stormed by security forces armed with batons and gas grenades. At one point, security pickup trucks drove around campus apprehending students at random and beating them. Eventually the campus was cleared, and we ventured out, retching. I remember, as we tried to make our way home down the Nile on the north side of the campus, a long stream of choking, crying and coughing students. Security officers stood in the street, randomly striking students with sticks and batons, meting out humiliating insults as they did. When I walked past, one struck a male student on the back. He teetered. “Where are the heroes?” mocked the officer, as he beat the student again. “I thought you were heroes?” The young man took the blows and never looked back as he walked away. We didn’t know it at the time, but we would not return to university for more than a year. Omar al-Bashir’s regime simply shut it down, not wanting to risk popular protests brought about by contagion from the student movement. By the time we returned, many students had dropped out or just disappeared. On Thursday Bashir, the last of the world’s long-term Arab dictators, was overthrown. Not a single one of the 30 years of his rule in Sudan was peaceful. The military officer took power in 1989, responding with brute force and scorched-earth tactics to any dissent. In the major cities, the regime disbanded civil society and set up a police state. In Darfur and other regions, his forces stoked ethnic conflicts in wars that claimed innumerable lives, and earned Bashir an international criminal court indictment and punitive sanctions for the country. And it established an arbitrary sharia legal system that it used to persecute its enemies and impose a grim, sterile order. And it worked. Between force and co-option, the military regime survived. This June would have marked 30 years since the “salvation revolution”. But a popular uprising, which has built momentum now for almost four months, has denied Bashir of his 30th anniversary. There comes a time in any dictator’s tenure that their magic combination of bribery, brutality, murder, torture and detention stops working. Once that happens, it overtakes any analysis. Thousands had staged a sit-in at the army headquarters for almost a week, demanding the end of the regime. But the pivotal moment came some time ago, when the government failed to provide the basics, as the country nosedived into an economic crisis with record inflation and fuel and bank liquidity shortages. In the past when the poor rose up, the middle classes, those who had suffered the least historically (if they behaved), would not join the uprisings. But the grinding effects of poverty began to appear in more prosperous households and the bargain with Bashir no longer paid off. A government can be repressive or impoverishing, never both. And so the economic crisis generalised a sense of dispossession that has now tipped into political rebellion. The anger took on a different shape too, one that demanded redress for decades of oppression but is also reaching out for some sort of national reconciliation. The scenes from the Khartoum sit-in showed an urge to capture a sense of a country that has been lost for too long. Bashir’s human rights abuses elided into something else, the vandalising of a sense of national identity divorced from the government’s own religious and military blueprint. The salvation revolution was also a cultural project, one that exaggerated the ethnic differences between the Sudanese people, and thrived on ignoring the masses by catering to a large patronage network. Over the past few days, soldiers have defected in order to support and protect the protesters against security forces, some in tears as they made the move. Classic old songs and chants that predate the Bashir government mixed with new irreverent humour. Women, who have borne the brunt of the sharia experimentation, came out in traditional gear, harking back to old customs. Volunteers brought food and water, and everything was documented live on social media. It was at once a nostalgic and modern uprising. It has little but the past to hold on to, but knows the present is no longer tenable. But despite the moving army defections, the announcement of Bashir’s removal came from a military that intends to take control. This is bad news for Sudan, as none of his generals are untainted by Bashir’s record. Sudan also has a legacy of ethnic and tribal tension that was not invented by Bashir. Without the complicity of the affluent class, he would never have survived so long. And despite the iconography of women on the frontline of the uprising, the government’s victimisation of women was aided by a society steeped in misogyny. But a country in such moments needs to project a vision, an idealised version of itself, something to aspire to. And so the world watched as the Sudanese people camped, chanted and dodged bullets until they succeeded in doing what an entire international human rights industry has failed to do: toppling Omar al-Bashir’s government. The future is still to be plotted, but in the meantime, those who took part in the uprising have answered the question the security officer asked when he lashed us as we left a besieged university campus all those years ago. Here are the heroes. • Nesrine Malik is a Guardian columnist